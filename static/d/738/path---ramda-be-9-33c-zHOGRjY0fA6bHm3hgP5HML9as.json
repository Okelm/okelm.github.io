{"data":{"site":{"siteMetadata":{"title":"Bart Widlarz's Blog","author":"Bart Widlarz"}},"markdownRemark":{"id":"4ac81771-60dd-5014-b5b2-3b5fd6ae4d96","excerpt":"Moving back and forth between React <-> React Native projectsDifferences in codeThey are only renderersOther differencesSo maybe React Native Web?IntroductionMy…","html":"<ul>\n<li><strong><a href=\"http://bwidlarz.com/react-vs-react-native/#moving-between-react---react-native-back-and-forth\" target=\"_blank\" rel=\"nofollow\">Moving back and forth between React &#x3C;-> React Native projects</a></strong></li>\n<li><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#differences-in-code\" target=\"_blank\" rel=\"nofollow\">Differences in code</a></strong></li>\n<li><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#differences-in-code\" target=\"_blank\" rel=\"nofollow\">They are only renderers</a></strong></li>\n<li><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#other-differences\" target=\"_blank\" rel=\"nofollow\">Other differences</a></strong></li>\n<li><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#so-maybe-react-native-web\" target=\"_blank\" rel=\"nofollow\">So maybe React Native Web?</a></strong></li>\n</ul>\n<h3 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h3>\n<p>My intention is to show some practicas usage of Ramda library in the context of data transformation in front end application, with some React examples.</p>\n<p>I don’t want to explain show functions work, neither explain which approach is better than other.</p>\n<p>I won’t be explaining in-depth how each of functional operator works, I will rather show them in the context and compare to vanilia JS implementation.</p>\n<h3 id=\"data-transformations\"><a href=\"#data-transformations\" aria-label=\"data transformations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data transformations</h3>\n<p>It’s not always that great so you can do no data transformations before rendering because the data from API fully match the frontend need. Especcially if you work with legacy code, or you have just been involved in rapid prototyping for a startup, your data scheme between how it looks on backend and what frontend needs will definitely vary.</p>\n<p>Imagine you have an object which has a list of items that you want to map to something else, defaulted to empty array if something is missing:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> selectedCountry <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      subdivisions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf'</span><span class=\"token punctuation\">,</span>\n          sth<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf2'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf2'</span><span class=\"token punctuation\">,</span>\n          sth<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf3'</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      otherProp<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>These are 3 examples of how you can handle that case: </p>\n<p>You can start by writing with a ternary operator but you will quickly notice that you will not pull it off without nesting a ternary operator to ensure you won’t reaching undefined value of selectedCountry or subdivisions:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">selectedCountryStates2</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">selectedCountry</span> <span class=\"token operator\">=></span>\n    selectedCountry\n      <span class=\"token operator\">?</span> selectedCountry<span class=\"token punctuation\">.</span>subdivisions\n        <span class=\"token operator\">?</span> selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>You decide to ditch ternany operator by either following your gut feeling or strict enough configuration of linter or your coleague advice on code review… anyways, now you use a bunch of if else statements:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">selectedCountryStates3</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">selectedCountry</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedCountry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        name<span class=\"token punctuation\">,</span>\n        value<span class=\"token punctuation\">:</span> name\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You are new to the codebase, just joined the project and didnt know that the is already Ramda on board, why not try implementing with that lib?\nThis is the implementation with Ramda.js.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectedCountryStates1 <span class=\"token operator\">=</span> \n    <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">propOr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subdivisions'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p>It differs very much from vanilia JS implementations. Where is even a fat arrow? Where is a parameter? Well, it’s created by R.pipe behind the scene. The function takes implicitly whatever you provide it with and pass along to functional operators. It executes from left to right (or top-down in here), starting by accessing subdivisions property and defaulting to empty array if needed. </p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">  <span class=\"token keyword\">const</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Country</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    subdivisions<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span>Division<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">selectedCountryStates2</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selectedCountry<span class=\"token punctuation\">:</span> Country</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Ramda in React Apps","date":"December 08, 2019","description":"A couple of practical use cases for functional programming with Ramda"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ramda/","previous":{"fields":{"slug":"/react-vs-react-native/"},"frontmatter":{"title":"From React Web to React Native"}},"next":null}}