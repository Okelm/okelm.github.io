{"data":{"site":{"siteMetadata":{"title":"Bart Widlarz's Blog","author":"Bart Widlarz"}},"markdownRemark":{"id":"4ac81771-60dd-5014-b5b2-3b5fd6ae4d96","excerpt":"data transformationsmappingmergeconditional renderingcurring ?rangesstring manipulationsMoving back and forth between React <-> React Native projectsDifferences…","html":"<ul>\n<li>\n<p>data transformations</p>\n</li>\n<li>\n<p>mapping</p>\n</li>\n<li>\n<p>merge</p>\n</li>\n<li>\n<p>conditional rendering</p>\n</li>\n<li>\n<p>curring ?</p>\n</li>\n<li>\n<p>ranges</p>\n</li>\n<li>\n<p>string manipulations</p>\n</li>\n<li>\n<p><strong><a href=\"http://bwidlarz.com/react-vs-react-native/#moving-between-react---react-native-back-and-forth\" target=\"_blank\" rel=\"nofollow\">Moving back and forth between React &#x3C;-> React Native projects</a></strong></p>\n</li>\n<li>\n<p><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#differences-in-code\" target=\"_blank\" rel=\"nofollow\">Differences in code</a></strong></p>\n</li>\n<li>\n<p><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#differences-in-code\" target=\"_blank\" rel=\"nofollow\">They are only renderers</a></strong></p>\n</li>\n<li>\n<p><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#other-differences\" target=\"_blank\" rel=\"nofollow\">Other differences</a></strong></p>\n</li>\n<li>\n<p><strong><a href=\"https://bwidlarz.com/react-vs-react-native/#so-maybe-react-native-web\" target=\"_blank\" rel=\"nofollow\">So maybe React Native Web?</a></strong></p>\n</li>\n</ul>\n<h3 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h3>\n<p>My intention is to show some practicas usage of Ramda library in the context of data transformation in front end application, with some React examples.</p>\n<p>I don’t want to explain show functions work, neither explain which approach is better than other.</p>\n<p>I won’t be explaining in-depth how each of functional operator works, I will rather show them in the context and compare to vanilia JS implementation.</p>\n<h3 id=\"data-transformations\"><a href=\"#data-transformations\" aria-label=\"data transformations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data transformations</h3>\n<p>It’s not always that great so you can do no data transformations before rendering because the data from API fully match the frontend need. Especcially if you work with legacy code, or you have just been involved in rapid prototyping for a startup, your data scheme between how it looks on backend and what frontend needs will definitely vary.</p>\n<p>Imagine you have an object which has a list of items that you want to map to something else, defaulted to empty array if something is missing:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> selectedCountry <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      subdivisions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf'</span><span class=\"token punctuation\">,</span>\n          sth<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf2'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          name<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf2'</span><span class=\"token punctuation\">,</span>\n          sth<span class=\"token punctuation\">:</span> <span class=\"token string\">'asdf3'</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      otherProp<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>These are 3 examples of how you can handle that case: </p>\n<p>You can start by writing with a ternary operator but you will quickly notice that you will not pull it off without nesting a ternary operator to ensure you won’t reaching undefined value of selectedCountry or subdivisions:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">selectedCountryStates2</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">selectedCountry</span> <span class=\"token operator\">=></span>\n    selectedCountry\n      <span class=\"token operator\">?</span> selectedCountry<span class=\"token punctuation\">.</span>subdivisions\n        <span class=\"token operator\">?</span> selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>You decide to ditch ternany operator by either following your gut feeling or strict enough configuration of linter or your coleague advice on code review… anyways, now you use a bunch of if else statements:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">selectedCountryStates3</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">selectedCountry</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedCountry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        name<span class=\"token punctuation\">,</span>\n        value<span class=\"token punctuation\">:</span> name\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>You are new to the codebase, just joined the project and didnt know that the is already Ramda on board, why not try implementing with that lib?\nThis is the implementation with Ramda.js.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> selectedCountryStates1 <span class=\"token operator\">=</span> \n    <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">propOr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subdivisions'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p>It differs very much from vanilia JS implementations. Where is even a fat arrow? Where is a parameter? Well, it’s created by R.pipe behind the scene. The function takes implicitly whatever you provide it with and pass along to functional operators. It executes from left to right (or top-down in here), starting by accessing subdivisions property and defaulting to empty array if needed. </p>\n<p>By the way, If you’re sure about the data structure, you don’t need to guard against undefined values whatsoever:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">  <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Country</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    subdivisions<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span>Division<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">selectedCountryStates2</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">selectedCountry<span class=\"token punctuation\">:</span> Country</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    selectedCountry<span class=\"token punctuation\">.</span>subdivisions<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"mapping\"><a href=\"#mapping\" aria-label=\"mapping permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mapping</h3>\n<p>You want to simply map one string to another, depending on what string it is. It might be that there are a business need to rename types of an entity, and there’s no way that the change would be done on the backend side:</p>\n<p>Implementation with if statements:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mappingTypes2</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">type</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'invoice'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Received'</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'debit'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Sent'</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'withdraw'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Withdraw'</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">undefined</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Implementation with switch:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mappingTypes3</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">type</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'invoice'</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">'Received'</span> \n    <span class=\"token keyword\">case</span> <span class=\"token string\">'debit'</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">'Sent'</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'withdraw'</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token string\">'Withdraw'</span>\n    <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">undefined</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Implementation with Ramda’s <code class=\"language-text\">cond</code> and <code class=\"language-text\">equals</code>, which encapsulates if/else statements:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> mappingTypes1 <span class=\"token operator\">=</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">[</span><span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">'invoice'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">always</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Received'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">'debit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">always</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Sent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">'withdraw'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">always</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Withdraw'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"merging-objects\"><a href=\"#merging-objects\" aria-label=\"merging objects permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Merging objects</h3>\n<p>Imagine you have to update an object with some new properties. Like, let’s say, you use Redux and you have pretty complex state object which stores various information about your app. It looks like this:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ae0ff8897bbf6f4d1144cc64ea41f951/5cf6a/deepmerge.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 27.368421052631582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsElEQVQY042NzQ6CMBCE+/7v4yt49aaJhoiGKAiF0oKB0t2x5ccQL7LJl51Op1NhmhaFlKhlhDQ5osjOMOoGXcXQ5RVVEY268V7tz8Fr9R0Y8pkX4MLOwE5BtO8OlTKeBrKs0fUOW8YR0FuCHXjeky+YOwzUwvmEo6mMmTw886tpzGit8XimyPIctdfW2vASYh8b7E5qLuJNhCGiL8uEO3HJBxySqd2tQn9ZfbB4QX8AywqGhkoBDSAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"deepmerge\"\n        title=\"\"\n        src=\"/static/ae0ff8897bbf6f4d1144cc64ea41f951/b9e4f/deepmerge.png\"\n        srcset=\"/static/ae0ff8897bbf6f4d1144cc64ea41f951/cf440/deepmerge.png 148w,\n/static/ae0ff8897bbf6f4d1144cc64ea41f951/d2d38/deepmerge.png 295w,\n/static/ae0ff8897bbf6f4d1144cc64ea41f951/b9e4f/deepmerge.png 590w,\n/static/ae0ff8897bbf6f4d1144cc64ea41f951/f9b6a/deepmerge.png 885w,\n/static/ae0ff8897bbf6f4d1144cc64ea41f951/2d849/deepmerge.png 1180w,\n/static/ae0ff8897bbf6f4d1144cc64ea41f951/5cf6a/deepmerge.png 1520w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        cart<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          items<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            variousItems<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{</span>\n                id<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> \n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            differentItems<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{</span>\n                id<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span>\n                id<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>And you want to update your state with: </p>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">    <span class=\"token keyword\">const</span> update <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        cart<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            differentItems<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n<span class=\"gatsby-highlight-code-line\">              <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">                id<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">                total<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">                id<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">                total<span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span>            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Solution with vanilia JS:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">      <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n          cart<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            items<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              variousItems<span class=\"token punctuation\">:</span> state<span class=\"token punctuation\">.</span>cart<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>variousItems<span class=\"token punctuation\">,</span>\n              differentItems<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span>cart<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>differentItems<span class=\"token punctuation\">,</span>\n                <span class=\"token operator\">...</span>update<span class=\"token punctuation\">.</span>cart<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>differentItems\n              <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Solution with Ramda:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">        <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">.</span><span class=\"token function\">mergeDeepWith</span><span class=\"token punctuation\">(</span><span class=\"token constant\">R</span><span class=\"token punctuation\">.</span>concat<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">,</span> update<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The problem with vanilia JS implementation is that it is narrowed only for that particular case. If we add another property to the update object, our implementation will have to be updated too. </p>\n<p>It won’t work.\nWhy?\nWe forgot to check for undefined values…</p>\n<p> There are two changes over there</p>\n<ul>\n<li>updating óńe of the differentItem of id = 3 with total property of value 100. </li>\n<li>also, add another item to the list</li>\n</ul>","frontmatter":{"title":"Ramda in React Apps","date":"December 08, 2019","description":"A couple of practical use cases for functional programming with Ramda"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/ramda/","previous":{"fields":{"slug":"/react-vs-react-native/"},"frontmatter":{"title":"From React Web to React Native"}},"next":null}}